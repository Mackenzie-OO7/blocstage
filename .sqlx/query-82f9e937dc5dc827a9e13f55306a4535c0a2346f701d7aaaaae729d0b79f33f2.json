{
  "db_name": "PostgreSQL",
  "query": "\n                SELECT COALESCE(SUM(\n                    CASE \n                        WHEN tr.transaction_sponsorship_fee IS NOT NULL \n                        THEN tr.amount - tr.transaction_sponsorship_fee\n                        ELSE tr.amount\n                    END\n                ), 0) as revenue\n                FROM tickets t\n                JOIN transactions tr ON t.id = tr.ticket_id\n                WHERE t.ticket_type_id = $1 AND tr.status = 'completed'\n                ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "revenue",
        "type_info": "Numeric"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid"
      ]
    },
    "nullable": [
      null
    ]
  },
  "hash": "82f9e937dc5dc827a9e13f55306a4535c0a2346f701d7aaaaae729d0b79f33f2"
}
